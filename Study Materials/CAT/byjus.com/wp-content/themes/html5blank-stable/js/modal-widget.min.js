var CONFIG={apis:{register:{url:COMMON_UTILS_ENDPOINT_KEY+"leads/",method:"POST"},city:{url:BCAP_API_BASE_URL+"api/geo_dimensions/india_city_list_non_paginated",method:"GET"}}},MAIN_UTILITIES={ajaxCall:function(e,t,a,r){jQuery.ajax({type:e,url:t,crossDomain:!0,data:a,headers:{"content-type":"application/x-www-form-urlencoded"},success:function(e){r&&r(e)},error:function(e){r&&r(e)}})},getParamValueByName:function(e,t){e=e.replace(/[\[\]]/g,"\\$&");var a=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)"),r=a.exec(t);return r&&r[2]?decodeURIComponent(r[2].replace(/\+/g," ")):""},updateParamValueByName:function(e,t,a){var r=new RegExp("([?&])"+t+"=.*?(&|$)","i"),i=-1!==e.indexOf("?")?"&":"?";return e.match(r)?e.replace(r,"$1"+t+"="+a+"$2"):e+i+t+"="+a},nameValiadation:function(e,t,a){var r=jQuery(e),i=r.val(),n=a||"Name",o="",l=/^[a-zA-Z][a-zA-Z\-\ \.]{2,}$/i;return r.siblings(".input-error-msg").remove(),o=i&&null!==i?i.length<=2?"Name should be minimum 3 characters.":i.match(l)?"":"Accepts alphabets only.":n+" is required.",o?(r.addClass("input-error").removeClass("input-valid"),r.after('<div class="input-error-msg">'+o+"</div>"),!1):(r.removeClass("input-error"),r.addClass("input-valid"),!0)},phoneValidation:function(e,t){var a=jQuery(e),r=a.val(),i="",n=/^\d{10}$/;return a.siblings(".input-error-msg").remove(),r&&null!==r?r.match(n)||(i="Mobile No. should be 10 digits."):i="Mobile No. is required.",i?(a.addClass("input-error").removeClass("input-valid"),a.after('<div class="input-error-msg">'+i+"</div>"),!1):(a.removeClass("input-error"),a.addClass("input-valid"),!0)},percentageValidation:function(e,t){var a=jQuery(e),r=a.val(),i="",n=/\b(^3[5-9]$|^[4-9][0-9]$|100)\b/gm;return a.siblings(".input-error-msg").remove(),r&&null!==r?r.match(n)||(i="Percentage should be a Whole Number between 35 and 100"):i="Percentage is required.",i?(a.addClass("input-error").removeClass("input-valid"),a.after('<div class="input-error-msg">'+i+"</div>"),!1):(a.removeClass("input-error"),a.addClass("input-valid"),!0)},uploadSizeValidation:function(e,t){var a=jQuery(e);if((void 0===a.attr("data-optional")||!1===a.attr("data-optional"))&&a.prop("files")&&a.prop("files").length>0){var r=a.prop("files")[0].size,i=a.prop("files")[0].name.split(".").pop().toLowerCase(),n=5242880,o="";return a.siblings(".input-error-msg").remove(),r>=n&&(o="File too large. File must be less than 5 megabytes."),-1==jQuery.inArray(i,["pdf","doc","docx"])&&(o="Please upload only pdf,doc,docx format files."),o?(a.addClass("input-error").removeClass("input-valid"),a.after('<div class="input-error-msg">'+o+"</div>"),!1):(a.removeClass("input-error"),a.addClass("input-valid"),!0)}return!1},ctcValidation:function(e,t){var a=jQuery(e),r=a.val(),i="",n=/^\d{5,}$/,o=/^[0-9]*(?:\.\d{1,2})?$/;return a.siblings(".input-error-msg").remove(),r&&null!==r?o.test(r)?r.match(n)||(i="CTC should be minimum 5 digits."):i="CTC should be in numbers.":i="CTC is required.",i?(a.addClass("input-error").removeClass("input-valid"),a.after('<div class="input-error-msg">'+i+"</div>"),!1):(a.removeClass("input-error"),a.addClass("input-valid"),!0)},emailValidation:function(e,t){var a=jQuery(e),r=a.val(),i="",n=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,13}))$/;return a.siblings(".input-error-msg").remove(),r&&null!==r?r.match(n)||(i="Email-id is not valid."):i="Email-id is required.",i?(a.addClass("input-error").removeClass("input-valid"),a.after('<div class="input-error-msg">'+i+"</div>"),!1):(a.removeClass("input-error"),a.addClass("input-valid"),!0)},requiredValidation:function(e,t,a){var r=jQuery(e),i=r.val(),n="";return r.siblings(".input-error-msg").remove(),i&&null!==i||(n=a+" is required."),n?(r.addClass("input-error").removeClass("input-valid"),r.after('<div class="input-error-msg">'+n+"</div>"),!1):(r.removeClass("input-error"),r.addClass("input-valid"),!0)},getParameterByName:function(e,t){t=t?"?"+t:window.location.search;var a=new RegExp("[?&]"+e.replace(/\[/g,"\\[").replace(/\]/g,"\\]")+"(?:=([^&#]*))?(?:[&#]|$)").exec(t);return a?a[1]?decodeURIComponent(a[1].replace(/\+/g," ")):"":null},updateQueryStringParameter:function(e,t,a){var r=new RegExp("([?&])"+t+"=.*?(&|$)","i"),i=-1!==e.indexOf("?")?"&":"?";return e.match(r)?e.replace(r,"$1"+t+"="+a+"$2"):e+i+t+"="+a},getCurrentDateTime:function(e){var t=new Date,a=t.getHours(),r=t.getMinutes(),i=t.getSeconds();a=a>12?a-12:a,a=1==a.toString().length?"0"+a:a,r=1==r.toString().length?"0"+r:r,i=1==i.toString().length?"0"+i:i;var n=t.getFullYear();n=1==n.toString().length?"0"+n:n;var o=t.getMonth()+1;o=1==o.toString().length?"0"+o:o;var l=t.getDate();if(l=1==l.toString().length?"0"+l:l,"yyyy-mm-dd hh:mm:ss"===e)return n+"-"+o+"-"+l+" "+a+":"+r+":"+i;if("yyyy-mm-dd hh:mm:ss-UTC"===e){a=t.getUTCHours(),r=t.getUTCMinutes(),i=t.getUTCSeconds(),a=a>12?a-12:a,a=1==a.toString().length?"0"+a:a,r=1==r.toString().length?"0"+r:r,i=1==i.toString().length?"0"+i:i;o=t.getUTCMonth()+1;o=1==o.toString().length?"0"+o:o;var s=t.getUTCDate();s=1==s.toString().length?"0"+s:s;l=t.getUTCFullYear();return l=1==l.toString().length?"0"+l:l,l+"-"+o+"-"+s+" "+a+":"+r+":"+i}return l+"/"+o+"/"+n+" "+a+":"+r+" "+(t.getHours()>=12?"PM":"AM")},getTime:function(e){var t=new Date,a=t.getHours(),r=t.getMinutes(),i=t.getSeconds(),n=a>=12?" PM":" AM";return e||(a%=12,a=a||12),a=a<10?"0"+a:a,r=r<10?"0"+r:r,i=i<10?"0"+i:i,a+":"+r+":"+i+n},setCookie:function(e,t,a){var r=new Date;r.setTime(r.getTime()+24*a*60*60*1e3);var i="expires="+r.toGMTString();document.cookie=e+"="+t+";"+i+";path=/"},getCookie:function(e){for(var t=e+"=",a=decodeURIComponent(document.cookie),r=a.split(";"),i=0;i<r.length;i++){for(var n=r[i];" "==n.charAt(0);)n=n.substring(1);if(0==n.indexOf(t))return n.substring(t.length,n.length)}return""},checkCookie:function(){var e=getCookie("username");""!=e?alert("Welcome again "+e):(e=prompt("Please enter your name:",""),""!=e&&null!=e&&setCookie("username1",e,30))},replaceAll:function(e,t,a){return a.split(e).join(t)},downloadFile:function(e,t,a,r,i){if(a=a.toLowerCase(),a&&e&&-1!=e.toLowerCase().split("/").pop().indexOf(a)){var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="blob",n.onload=function(){if(4===n.readyState)if(200===n.status){var a=new Blob([n.response]),o=document.createElement("a");o.href=window.URL.createObjectURL(a),o.download=t||e.split("/").pop(),o.click(),r&&r(n,i)}else console.error(n.statusText),r&&r(n,i);else console.error(n.statusText),r&&r(n,i)},n.onerror=function(e){console.error("Error Status: "+e.target.status,n.statusText),r&&(n.status=200,r(n,i))},n.send()}},sidebarFormCityInputsValidation:function(e,t){var a=jQuery(e),r=a.find("input, select").not('[type="hidden"]'),i=[];return r.each(function(e,a){var r=jQuery(a),i=r.attr("name");switch(i){case"FirstName":this.isValidInput=MAIN_UTILITIES.nameValiadation;break;case"Phone":this.isValidInput=MAIN_UTILITIES.phoneValidation,this.requiredName="Phone No.";break;case"mx_City":this.isValidInput=MAIN_UTILITIES.cityValidation,this.requiredName="City";break;case"grade":this.isValidInput=MAIN_UTILITIES.requiredValidation,this.requiredName="Grade";break;case"EmailAddress":this.isValidInput=MAIN_UTILITIES.emailValidation;break;default:this.isValidInput=null}"onInput"===t&&r.on("input blur",function(){this.isValidInput&&(this.isValid=this.isValidInput(jQuery(this),null,this.requiredName))})}),!i.length},cities:[],cityAutoSuggestions:function(){function e(e){if(!e)return!1;a.find("ul>li").removeClass("auto-active"),i>e.length&&(i=1),0==i&&(i=e.length),console.log(i,e.length),a.find("ul>li:nth-child("+i+")").addClass("auto-active")}var t;MAIN_UTILITIES.ajaxCall(CONFIG.apis.city.method,CONFIG.apis.city.url,"",function(e){e&&(t=e,MAIN_UTILITIES.cities=e)});var a=jQuery("[data-city-auto-suggestions]"),r=a.find("input"),i=0;r.on("input",function(){i=0;var e=jQuery(this).val().toLowerCase(),n="";if(a.find("ul").remove(),e.length>=1){var o=jQuery.grep(t,function(t,a){return 0===t.city.toLowerCase().indexOf(e)});o.length&&(o.every(function(t,a){return n+='<li><a href="javascript:void(0)">'+t.city.toLowerCase().replace(e,"<b>"+e+"</b>")+"</a></li>",6!==a}),a.append("<ul>"+n+"</ul>"))}a.find("ul>li>a").on("click",function(e){e.stopPropagation(),r.val(jQuery(this).text()),a.find("ul").remove(),i=0,r[0].isValidInput(r)})}),r.on("keydown",function(t){var n=a.find("ul");n.length&&(x=n.find("li")),40==t.keyCode?(i++,e(x)):38==t.keyCode?(i--,e(x)):13==t.keyCode?(t.preventDefault(),i>-1&&x&&(r.val(a.find("ul>li:nth-child("+i+")").text()),a.find("ul").remove(),r[0].isValidInput(r,null,r[0].requiredName))):27==t.keyCode&&(a.find("ul").remove(),i=0,r[0].isValidInput(r,null,r[0].requiredName))}),jQuery("body").on("click",function(){a.find("ul").remove(),i=0})},cityValidation:function(e,t,a){var r=e.val();if(MAIN_UTILITIES.requiredValidation(e,t,a)){var i=/[ `!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?~]/;if(!MAIN_UTILITIES.cities.length)return!0;if(MAIN_UTILITIES.cities.filter(function(t){return t.city.toLocaleLowerCase()==e.val()}).length)return e.siblings(".input-error-msg").remove(),e.removeClass("input-error"),e.addClass("input-valid"),!0;if(isNaN(r)){if(!i.test(e.val()))return!0;e.addClass("input-error").removeClass("input-valid"),e.after('<div class="input-error-msg">Should accept Alphabets only </div>')}else e.addClass("input-error").removeClass("input-valid"),e.after('<div class="input-error-msg">Should accept Alphabets only</div>')}return!1}},MAIN={generateHref:function(e,t,a){e.preventDefault();var r=localStorage.getItem("UTM"),i=jQuery(t).attr("href");switch(r=r||"Organic",i=MAIN_UTILITIES.replaceAll("_UTM_CAMPAIGN_OR_INSTANCE_",MAIN_UTILITIES.getParamValueByName("utm_campaign",r)?MAIN_UTILITIES.getParamValueByName("utm_campaign",r):INSTANCE_NAME,i),i=MAIN_UTILITIES.replaceAll("_UTM_CAMPAIGN_TYPE_",MAIN_UTILITIES.getParamValueByName("utm_campaign",r)?"Paid":"Organic",i),i=MAIN_UTILITIES.replaceAll("_UTM_CAMPAIGN_ID_",MAIN_UTILITIES.getParamValueByName("utm_campaign_id",r),i),i=MAIN_UTILITIES.replaceAll("_UTM_CAMPAIGN_",MAIN_UTILITIES.getParamValueByName("utm_campaign",r),i),i=MAIN_UTILITIES.replaceAll("_UTM_ADSET_ID_",MAIN_UTILITIES.getParamValueByName("adset_id",r),i),i=MAIN_UTILITIES.replaceAll("_UTM_AD_ID_",MAIN_UTILITIES.getParamValueByName("ad_id",r),i),i=MAIN_UTILITIES.replaceAll("_UTM_CONTENT_",MAIN_UTILITIES.getParamValueByName("utm_content",r),i),i=MAIN_UTILITIES.replaceAll("_UTM_SITE_ID_",MAIN_UTILITIES.getParamValueByName("site_id",r),i),i=MAIN_UTILITIES.replaceAll("_UTM_PID_",MAIN_UTILITIES.getParamValueByName("pid",r),i),i=MAIN_UTILITIES.replaceAll("_UTM_TERM_",MAIN_UTILITIES.getParamValueByName("utm_term",r),i),jQuery(t).attr("href",i),window.location=i,a){case"register_popup":GA_FLAG&&(jQuery(t).attr("data-title")&&jQuery(t).attr("data-title").length?ga("send","event",jQuery(t).attr("data-title"),"popup click","popup click"):(jQuery(t).removeAttr("data-title"),ga("send","event","Register Widget Popup "+FORM_NAME,"popup click","popup click")),"/ias/"==document.location.pathname&&("undefined"!=typeof gtag?popup_gtag_report_conversion():console.log("IAS Register Popup Conversion Pixel")));break;case"register":GA_FLAG&&ga("send","event","Register Now sidebar click "+FORM_NAME,"widget click","widget click");break;case"ask_a_doubt":GA_FLAG&&ga("send","event","Ask a doubt sidebar click "+FORM_NAME,"widget click","widget click");break;case"top_banner":GA_FLAG&&(jQuery(t).attr("data-title")&&jQuery(t).attr("data-title").length?ga("send","event",jQuery(t).attr("data-title"),"banner click","banner click"):(jQuery(t).removeAttr("data-title"),ga("send","event","Top Banner Widget "+FORM_NAME,"banner click","banner click")));break;case"download_pdf":GA_FLAG&&ga("send","event","Download PDF widget","widget click",FORM_NAME);break;case"practice_bottom_popup":GA_FLAG&&ga("send","event","Practice Below Content Widget "+FORM_NAME,"widget click","widget click");break;case"practice_popup":GA_FLAG&&ga("send","event","Practice Sidenav Widget "+FORM_NAME,"widget click","widget click")}}};jQuery(document).ready(function(){var e,t=MAIN_UTILITIES.getCookie("56j5jkregistrationkl5kj7formrgt45popup7sub")||MAIN_UTILITIES.getCookie("pagebformypopupj"),a=["CAT","GMAT","IAS","GRE","CAT Tablet","ME","Recruitment","Bank Exam","SSC Exam","RRB Exam","UPSC CAPF","Insurance Exams","Govt Exam"],r=-1!==a.indexOf(FORM_NAME)?"FORM":"NORMAL",i=sessionStorage.getItem("pageblevelynormaljpopupu"),n=sessionStorage.getItem("pageblevelyformjpopupu");jQuery("#register-modal-widget").length&&(e=setTimeout(function(){jQuery("#pdf-download-register-modal").is(":visible")||jQuery("#register-modal-widget").modal("show")},5e3),("NORMAL"==r&&"1"===i||"FORM"==r&&"1"===n||"FORM"==r&&t)&&clearTimeout(e),jQuery("#register-modal-widget").on("hide.bs.modal",function(){"NORMAL"==r?sessionStorage.setItem("pageblevelynormaljpopupu",1):"FORM"==r&&sessionStorage.setItem("pageblevelyformjpopupu",1)})),jQuery(".register-modal-widget .popup-href").length&&(navigator.isMobileTablet&&jQuery(".register-modal-widget .popup-href").children(0).attr("data-href")&&jQuery(".register-modal-widget .popup-href").children(0).attr("data-href").length&&jQuery(".register-modal-widget .popup-href").children(0).attr("href",jQuery(".register-modal-widget .popup-href").children(0).attr("data-href")),jQuery(".register-modal-widget .popup-href").children(0).removeAttr("data-href"));var o=document.referrer;o?-1!=o.indexOf(".byjus")&&-1!=o.indexOf(".byjusweb")||!MAIN_UTILITIES.getParamValueByName("utm_campaign",C_URL)?MAIN_UTILITIES.getParamValueByName("utm_campaign",C_URL)?localStorage.setItem("UTM",C_URL):-1==o.indexOf(".byjus")&&-1!=o.indexOf(".byjusweb")||!localStorage.getItem("UTM")?localStorage.setItem("UTM",""):localStorage.setItem("UTM",localStorage.getItem("UTM")):localStorage.setItem("UTM",C_URL):MAIN_UTILITIES.getParamValueByName("utm_campaign",C_URL)?localStorage.setItem("UTM",C_URL):localStorage.setItem("UTM",""),jQuery(".modal").on("show.bs.modal",function(e){jQuery(this).find("img.lazy").each(function(){var e=jQuery(this);e.attr("src",e.attr("data-src")).removeAttr("data-src").removeClass("lazy")})});var l=function(e){var t=!e.toElement&&!e.relatedTarget&&e.clientY<10,a=$("#register-modal-widget").is(":visible");t&&!a&&(document.removeEventListener("mouseleave",l),document.querySelector(".exit-intent-popup")&&(document.querySelector(".exit-intent-popup").classList.remove("hidden"),document.querySelector(".exit-intent-popup").classList.add("visible"),document.querySelector(".exit-intent-popup").addEventListener("click",s)),document.getElementById("data-close-model")&&document.getElementById("data-close-model").addEventListener("click",s))},s=function(e){"exit-modal-close"!==e.target.className&&"exit-intent-model"!==e.target.className&&"register-modal-widget"!==e.target.className||GA_FLAG&&ga("send","event","Register modal widget close button clicked","Register modal widget close button clicked","Register modal widget close button clicked"),"exit-modal-close"!==e.target.className&&"exit-intent-model"!==e.target.className||document.querySelector(".exit-intent-popup").classList.remove("visible")};navigator.isMobile||navigator.isMobileTablet||setTimeout(function(){document.addEventListener("mouseleave",l)},2e4);var u=jQuery(".join-byjus-form-widget");MAIN_UTILITIES.sidebarFormCityInputsValidation(u,"onInput"),MAIN_UTILITIES.cityAutoSuggestions()});